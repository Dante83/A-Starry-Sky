export default function AtmosphereFunctions(mieG){
  let originalGLSL = [
    {fragment_glsl}
  ];

  const mieGSquared = (mieG * mieG).toFixed(16);
  const miePhaseCoefficient = (1.5 * (1.0 - mieGSquared) / (2.0 + mieGSquared)).toFixed(16);

  let updatedLines = [];
  for(let i = 0, numLines = originalGLSL.length; i < numLines; ++i){
    let updatedGLSL = originalGLSL[i].replace(/\$mieGSquared/g, mieGSquared);
    updatedGLSL = updatedGLSL.replace(/\$miePhaseFunctionCoefficient/g, miePhaseCoefficient);
    updatedGLSL = updatedGLSL.replace(/\$mieG/g, mieG.toFixed(16));

    updatedLines.push(updatedGLSL);
  }

  return updatedLines.join('\n');
}
