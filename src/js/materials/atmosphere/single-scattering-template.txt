export default function SingleScatteringMaterial(){
  reuturn({
    uniforms: {
      transmittanceTexture: {value: null},
      uvz: {value: 0.0}
    },
    fragmentShader: function(numberOfPoints, atmosphereFunctions){
      let originalGLSL = [
        {fragment_glsl}
      ];

      const updatedLines = [];
      const numberOfChunks = numberOfPoints - 1;
      for(let i = 0, numLines = originalGLSL.length; i < numLines; ++i){
        let updatedGLSL = originalGLSL[i].replace(/\$numberOfChunksInt/g, numberOfChunks);
        updatedGLSL = updatedGLSL.replace(/\$atmosphericFunctions/g, atmosphereFunctions);
        updatedGLSL = updatedGLSL.replace(/\$numberOfChunks/g, numberOfChunks.toFixed(1));

        updatedLines.push(updatedGLSL);
      }

      return updatedLines.join('\n');
    }
  });
};
