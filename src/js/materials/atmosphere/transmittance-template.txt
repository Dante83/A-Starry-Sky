//This helps
//--------------------------v
//https://github.com/mrdoob/three.js/wiki/Uniforms-types
//Currently has no uniforms, but might get them in the future
StarrySky.materials.atmosphere.transmittanceMaterial = {
  uniforms: {},
  fragmentShader: function(numberOfSteps){
    let originalGLSL = [
      {fragment_glsl}
    ];

    let updatedLines = [];
    let numberOfStepsMinusOne = numberOfSteps - 1;
    for(let i = 0, numLines = originalGLSL.length; i < numLines; ++i){
      let updatedGLSL = originalGLSL[i].replace(/\$numberOfStepsMinusOne/g, numberOfStepsMinusOne.toFixed(1));
      updatedGLSL = updatedGLSL.replace(/\$numberOfSteps/g, numberOfSteps);

      updatedLines.push(updatedGLSL);
    }

    return updatedLines.join('\n');
  }
};
